(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{16:function(e,t,n){},17:function(e,t,n){},26:function(e,t,n){"use strict";n.r(t);var r,c,a=n(0),o=n.n(a),u=n(8),i=n.n(u),s=(n(16),n(17),n(7)),l=n(4),d=n(2),f=n.n(d),j=n(6),b=n(5),p=function(){var e=Object(j.a)(f.a.mark((function e(t,n){var r,c=arguments;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c.length>2&&void 0!==c[2]?c[2]:"",e.next=3,fetch(t,{method:"POST",headers:{"Content-Type":"application/json",Authorization:localStorage.getItem("token")},body:JSON.stringify(n)});case 3:return r=e.sent,e.next=6,r.json();case 6:return e.abrupt("return",e.sent);case 7:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),O=function(){var e=Object(j.a)(f.a.mark((function e(t,n){var r;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(t,{method:n,headers:{"Content-Type":"application/json",Authorization:localStorage.getItem("token")}});case 2:return r=e.sent,e.next=5,r.json();case 5:return e.abrupt("return",e.sent);case 6:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),h=Object(b.b)("signupuser",function(){var e=Object(j.a)(f.a.mark((function e(t){var n;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,p("/signup",t);case 2:return n=e.sent,e.abrupt("return",n);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),v=Object(b.b)("signinuser",function(){var e=Object(j.a)(f.a.mark((function e(t){var n;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,p("/signin",t);case 2:return n=e.sent,e.abrupt("return",n);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),g=Object(b.c)({name:"user",initialState:{token:"",loading:!1,error:""},reducers:{addToken:function(e,t){e.token=localStorage.getItem("token")},logout:function(e,t){e.token=null,localStorage.removeItem("token")}},extraReducers:(r={},Object(l.a)(r,h.fulfilled,(function(e,t){var n=t.payload,r=n.error,c=n.message;e.loading=!1,e.error=r||c})),Object(l.a)(r,h.pending,(function(e,t){e.loading=!0})),Object(l.a)(r,v.fulfilled,(function(e,t){var n=t.payload,r=n.error,c=n.token;e.loading=!1,r?e.error=r:(e.token=c,localStorage.setItem("token",c))})),Object(l.a)(r,v.pending,(function(e,t){e.loading=!0})),r)}),m=g.actions,x=m.addToken,k=m.logout,w=g.reducer,y=n(3),S=n(1),C=function(){var e=Object(a.useState)(""),t=Object(s.a)(e,2),n=t[0],r=t[1],c=Object(a.useState)(""),o=Object(s.a)(c,2),u=o[0],i=o[1],l=Object(a.useState)("signin"),d=Object(s.a)(l,2),f=d[0],j=d[1],b=Object(y.b)(),p=Object(y.c)((function(e){return e.user})),O=p.loading,g=p.error;return Object(S.jsxs)("div",{children:[O&&Object(S.jsx)("div",{className:"progress",children:Object(S.jsx)("div",{className:"indeterminate"})}),Object(S.jsxs)("h1",{children:["Please ",f,"!"]}),g&&Object(S.jsx)("h5",{children:g}),Object(S.jsx)("input",{type:"email",value:n,onChange:function(e){return r(e.target.value)}}),Object(S.jsx)("input",{type:"password",value:u,onChange:function(e){return i(e.target.value)}}),"signin"===f?Object(S.jsx)("h6",{onClick:function(){return j("signup")},children:"Don't have an account ?"}):Object(S.jsx)("h6",{onClick:function(){return j("signin")},children:"Already have an account?"}),Object(S.jsx)("button",{className:"btn #ff4081 pink accent-2",onClick:function(){b("signin"===f?v({email:n,password:u}):h({email:n,password:u}))},children:f})]})},N=Object(b.b)("createtodo",function(){var e=Object(j.a)(f.a.mark((function e(t){var n;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,p("/createtodo",t);case 2:return n=e.sent,e.abrupt("return",n);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),T=Object(b.b)("fetchtodos",Object(j.a)(f.a.mark((function e(){var t;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,O("/gettodos","get");case 2:return t=e.sent,e.abrupt("return",t);case 4:case"end":return e.stop()}}),e)})))),I=Object(b.b)("deletetodos",function(){var e=Object(j.a)(f.a.mark((function e(t){var n;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,O("/remove/".concat(t),"delete");case 2:return n=e.sent,e.abrupt("return",n);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),A=Object(b.c)({name:"todo",initialState:[],reducers:{},extraReducers:(c={},Object(l.a)(c,N.fulfilled,(function(e,t){var n=t.payload.message;n&&e.push(n)})),Object(l.a)(c,T.fulfilled,(function(e,t){return t.payload.message})),Object(l.a)(c,I.fulfilled,(function(e,t){var n=t.payload.message;return e.filter((function(e){return e._id!==n._id}))})),c)}).reducer,_=function(){var e=Object(a.useState)(""),t=Object(s.a)(e,2),n=t[0],r=t[1],c=Object(y.b)(),o=Object(y.c)((function(e){return e.todos}));Object(a.useEffect)((function(){c(T())}),[]);return Object(S.jsxs)("div",{children:[Object(S.jsx)("input",{placeholder:"Write your Todo",type:"text",value:n,onChange:function(e){return r(e.target.value)}}),Object(S.jsx)("button",{className:"btn #ff4081 pink accent-2",onClick:function(){c(N({todo:n}))},children:"Add Todo"}),Object(S.jsx)("ul",{className:"collection",children:o.map((function(e){return Object(S.jsx)("li",{className:"collection-item",onClick:function(){return c(I(e._id))},children:e.todo},e._id)}))}),Object(S.jsx)("button",{className:"btn #ff4081 pink accent-2",onClick:function(){return c(k())},children:"Log Out"})]})};var E=function(){var e=Object(y.c)((function(e){return e.user.token})),t=Object(y.b)();return Object(a.useEffect)((function(){t(x())}),[]),Object(S.jsx)("div",{className:"App",children:e?Object(S.jsx)(_,{}):Object(S.jsx)(C,{})})},J=Object(b.a)({reducer:{user:w,todos:A}});Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));i.a.render(Object(S.jsx)(o.a.StrictMode,{children:Object(S.jsx)(y.a,{store:J,children:Object(S.jsx)(E,{})})}),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[26,1,2]]]);
//# sourceMappingURL=main.889c5204.chunk.js.map